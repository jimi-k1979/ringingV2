{% extends "base.twig" %}

{% block title %}
    Statistics - team record
{% endblock %}

{% block nav %}
    {% include ('allPages/nav.twig') %}
{% endblock %}

{% block mainBody %}
    <div class="col blog-main">
        <h1 class="blog-post-title">
            {{ team.name }}
        </h1>
        <h2>
            {{ team.deanery }} ({{ team.region }}) </h2>
        <h3>
            Years active: {{ team.earliestYear }} - {{ team.mostRecentYear }}
        </h3>

        <div class="blog-post">
            <div class="row">
                <div class="col-12 align-self-top">
                    <h3>Summary</h3>
                    <div class="row">
                        {% for stat,value in stats.rangeSummary %}
                            <div class="col-6 col-md-4 col-lg-3 col-xxl-2">
                                <h5>{{ stat }}</h5>
                                {{ value }}
                            </div>
                        {% endfor %}
                    </div>
                </div>
                <div class="col-12 align-self-top">
                    <h3>Seasonal Stats</h3>
                    {% for year,seasons in stats.seasonal %}
                        <div class="row">
                            <h4>{{ year }}</h4>
                            {% for stat,value in seasons %}
                                <div class="col-6 col-md-4 col-lg-3 col-xxl-2">
                                    <h5>{{ stat }}</h5>
                                    {{ value }}
                                </div>
                            {% endfor %}
                        </div>
                    {% endfor %}
                </div>

                <div class="col-12 align-self-top">
                    <h3>Results</h3>
                    <table class="table table-striped table-light">
                        <thead>
                        <tr>
                            <th class="event-col">Event</th>
                            <th class="position-col">Position</th>
                            <th class="fault-col">Faults</th>
                            <th class="points-col">League Points</th>
                            <th class="fault-diff-col">Fault Difference</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for result in results %}
                            <tr>
                                <td class="event-field">
                                    <a href="/archive/event.php?eventId={{ result.eventId }}">
                                        {{ result.year }} {{ result.competitionName }}
                                        {% if (result.isSingleTower == 1 and result.isUnusualTower == 1)
                                            or result.isSingleTower == 0 %}
                                            @ {{ result.locationName }}
                                        {% endif %}
                                    </a>
                                </td>
                                <td class="text-center position-field">
                                    {{ result.position }} of {{ result.entries }}
                                </td>
                                <td class="text-end fault-field">
                                    {{ result.faults }}
                                </td>
                                <td class="text-end point-field">
                                    {{ result.points }}
                                </td>
                                <td class="text-end fault-diff-field">
                                    {{ result.faultDifference }}
                                </td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>


{% endblock %}
